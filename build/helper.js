"use strict";var Wn=Object.create;var ve=Object.defineProperty;var Bn=Object.getOwnPropertyDescriptor;var Jn=Object.getOwnPropertyNames;var Un=Object.getPrototypeOf,Hn=Object.prototype.hasOwnProperty;var U=(e,t)=>()=>(e&&(t=e(e=0)),t);var p=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Y=(e,t)=>{for(var r in t)ve(e,r,{get:t[r],enumerable:!0})},lt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Jn(t))!Hn.call(e,i)&&i!==r&&ve(e,i,{get:()=>t[i],enumerable:!(n=Bn(t,i))||n.enumerable});return e};var Yn=(e,t,r)=>(r=e!=null?Wn(Un(e)):{},lt(t||!e||!e.__esModule?ve(r,"default",{value:e,enumerable:!0}):r,e)),Kn=e=>lt(ve({},"__esModule",{value:!0}),e);var D=p(Ne=>{"use strict";Ne.fromCallback=function(e){return Object.defineProperty(function(...t){if(typeof t[t.length-1]=="function")e.apply(this,t);else return new Promise((r,n)=>{t.push((i,o)=>i!=null?n(i):r(o)),e.apply(this,t)})},"name",{value:e.name})};Ne.fromPromise=function(e){return Object.defineProperty(function(...t){let r=t[t.length-1];if(typeof r!="function")return e.apply(this,t);t.pop(),e.apply(this,t).then(n=>r(null,n),r)},"name",{value:e.name})}});var mt=p((mc,ft)=>{var Z=require("constants"),Gn=process.cwd,Pe=null,Qn=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return Pe||(Pe=Gn.call(process)),Pe};try{process.cwd()}catch{}typeof process.chdir=="function"&&(Ce=process.chdir,process.chdir=function(e){Pe=null,Ce.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,Ce));var Ce;ft.exports=Vn;function Vn(e){Z.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&t(e),e.lutimes||r(e),e.chown=o(e.chown),e.fchown=o(e.fchown),e.lchown=o(e.lchown),e.chmod=n(e.chmod),e.fchmod=n(e.fchmod),e.lchmod=n(e.lchmod),e.chownSync=c(e.chownSync),e.fchownSync=c(e.fchownSync),e.lchownSync=c(e.lchownSync),e.chmodSync=i(e.chmodSync),e.fchmodSync=i(e.fchmodSync),e.lchmodSync=i(e.lchmodSync),e.stat=a(e.stat),e.fstat=a(e.fstat),e.lstat=a(e.lstat),e.statSync=h(e.statSync),e.fstatSync=h(e.fstatSync),e.lstatSync=h(e.lstatSync),e.chmod&&!e.lchmod&&(e.lchmod=function(s,u,f){f&&process.nextTick(f)},e.lchmodSync=function(){}),e.chown&&!e.lchown&&(e.lchown=function(s,u,f,l){l&&process.nextTick(l)},e.lchownSync=function(){}),Qn==="win32"&&(e.rename=typeof e.rename!="function"?e.rename:function(s){function u(f,l,y){var g=Date.now(),v=0;s(f,l,function E(J){if(J&&(J.code==="EACCES"||J.code==="EPERM"||J.code==="EBUSY")&&Date.now()-g<6e4){setTimeout(function(){e.stat(l,function(M,le){M&&M.code==="ENOENT"?s(f,l,E):y(J)})},v),v<100&&(v+=10);return}y&&y(J)})}return Object.setPrototypeOf&&Object.setPrototypeOf(u,s),u}(e.rename)),e.read=typeof e.read!="function"?e.read:function(s){function u(f,l,y,g,v,E){var J;if(E&&typeof E=="function"){var M=0;J=function(le,at,ut){if(le&&le.code==="EAGAIN"&&M<10)return M++,s.call(e,f,l,y,g,v,J);E.apply(this,arguments)}}return s.call(e,f,l,y,g,v,J)}return Object.setPrototypeOf&&Object.setPrototypeOf(u,s),u}(e.read),e.readSync=typeof e.readSync!="function"?e.readSync:function(s){return function(u,f,l,y,g){for(var v=0;;)try{return s.call(e,u,f,l,y,g)}catch(E){if(E.code==="EAGAIN"&&v<10){v++;continue}throw E}}}(e.readSync);function t(s){s.lchmod=function(u,f,l){s.open(u,Z.O_WRONLY|Z.O_SYMLINK,f,function(y,g){if(y){l&&l(y);return}s.fchmod(g,f,function(v){s.close(g,function(E){l&&l(v||E)})})})},s.lchmodSync=function(u,f){var l=s.openSync(u,Z.O_WRONLY|Z.O_SYMLINK,f),y=!0,g;try{g=s.fchmodSync(l,f),y=!1}finally{if(y)try{s.closeSync(l)}catch{}else s.closeSync(l)}return g}}function r(s){Z.hasOwnProperty("O_SYMLINK")&&s.futimes?(s.lutimes=function(u,f,l,y){s.open(u,Z.O_SYMLINK,function(g,v){if(g){y&&y(g);return}s.futimes(v,f,l,function(E){s.close(v,function(J){y&&y(E||J)})})})},s.lutimesSync=function(u,f,l){var y=s.openSync(u,Z.O_SYMLINK),g,v=!0;try{g=s.futimesSync(y,f,l),v=!1}finally{if(v)try{s.closeSync(y)}catch{}else s.closeSync(y)}return g}):s.futimes&&(s.lutimes=function(u,f,l,y){y&&process.nextTick(y)},s.lutimesSync=function(){})}function n(s){return s&&function(u,f,l){return s.call(e,u,f,function(y){x(y)&&(y=null),l&&l.apply(this,arguments)})}}function i(s){return s&&function(u,f){try{return s.call(e,u,f)}catch(l){if(!x(l))throw l}}}function o(s){return s&&function(u,f,l,y){return s.call(e,u,f,l,function(g){x(g)&&(g=null),y&&y.apply(this,arguments)})}}function c(s){return s&&function(u,f,l){try{return s.call(e,u,f,l)}catch(y){if(!x(y))throw y}}}function a(s){return s&&function(u,f,l){typeof f=="function"&&(l=f,f=null);function y(g,v){v&&(v.uid<0&&(v.uid+=4294967296),v.gid<0&&(v.gid+=4294967296)),l&&l.apply(this,arguments)}return f?s.call(e,u,f,y):s.call(e,u,y)}}function h(s){return s&&function(u,f){var l=f?s.call(e,u,f):s.call(e,u);return l&&(l.uid<0&&(l.uid+=4294967296),l.gid<0&&(l.gid+=4294967296)),l}}function x(s){if(!s||s.code==="ENOSYS")return!0;var u=!process.getuid||process.getuid()!==0;return!!(u&&(s.code==="EINVAL"||s.code==="EPERM"))}}});var ht=p((yc,dt)=>{var yt=require("stream").Stream;dt.exports=zn;function zn(e){return{ReadStream:t,WriteStream:r};function t(n,i){if(!(this instanceof t))return new t(n,i);yt.call(this);var o=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,i=i||{};for(var c=Object.keys(i),a=0,h=c.length;a<h;a++){var x=c[a];this[x]=i[x]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){o._read()});return}e.open(this.path,this.flags,this.mode,function(s,u){if(s){o.emit("error",s),o.readable=!1;return}o.fd=u,o.emit("open",u),o._read()})}function r(n,i){if(!(this instanceof r))return new r(n,i);yt.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var o=Object.keys(i),c=0,a=o.length;c<a;c++){var h=o[c];this[h]=i[h]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}});var wt=p((dc,pt)=>{"use strict";pt.exports=Zn;var Xn=Object.getPrototypeOf||function(e){return e.__proto__};function Zn(e){if(e===null||typeof e!="object")return e;if(e instanceof Object)var t={__proto__:Xn(e)};else var t=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}),t}});var ce=p((hc,_e)=>{var b=require("fs"),ei=mt(),ti=ht(),ri=wt(),ge=require("util"),R,ke;typeof Symbol=="function"&&typeof Symbol.for=="function"?(R=Symbol.for("graceful-fs.queue"),ke=Symbol.for("graceful-fs.previous")):(R="___graceful-fs.queue",ke="___graceful-fs.previous");function ni(){}function Pt(e,t){Object.defineProperty(e,R,{get:function(){return t}})}var ne=ni;ge.debuglog?ne=ge.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(ne=function(){var e=ge.format.apply(ge,arguments);e="GFS4: "+e.split(/\n/).join(`
GFS4: `)});b[R]||(St=global[R]||[],Pt(b,St),b.close=function(e){function t(r,n){return e.call(b,r,function(i){i||vt(),typeof n=="function"&&n.apply(this,arguments)})}return Object.defineProperty(t,ke,{value:e}),t}(b.close),b.closeSync=function(e){function t(r){e.apply(b,arguments),vt()}return Object.defineProperty(t,ke,{value:e}),t}(b.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){ne(b[R]),require("assert").equal(b[R].length,0)}));var St;global[R]||Pt(global,b[R]);_e.exports=Te(ri(b));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!b.__patched&&(_e.exports=Te(b),b.__patched=!0);function Te(e){ei(e),e.gracefulify=Te,e.createReadStream=at,e.createWriteStream=ut;var t=e.readFile;e.readFile=r;function r(d,S,w){return typeof S=="function"&&(w=S,S=null),T(d,S,w);function T(L,O,q,$){return t(L,O,function(P){P&&(P.code==="EMFILE"||P.code==="ENFILE")?oe([T,[L,O,q],P,$||Date.now(),Date.now()]):typeof q=="function"&&q.apply(this,arguments)})}}var n=e.writeFile;e.writeFile=i;function i(d,S,w,T){return typeof w=="function"&&(T=w,w=null),L(d,S,w,T);function L(O,q,$,P,_){return n(O,q,$,function(k){k&&(k.code==="EMFILE"||k.code==="ENFILE")?oe([L,[O,q,$,P],k,_||Date.now(),Date.now()]):typeof P=="function"&&P.apply(this,arguments)})}}var o=e.appendFile;o&&(e.appendFile=c);function c(d,S,w,T){return typeof w=="function"&&(T=w,w=null),L(d,S,w,T);function L(O,q,$,P,_){return o(O,q,$,function(k){k&&(k.code==="EMFILE"||k.code==="ENFILE")?oe([L,[O,q,$,P],k,_||Date.now(),Date.now()]):typeof P=="function"&&P.apply(this,arguments)})}}var a=e.copyFile;a&&(e.copyFile=h);function h(d,S,w,T){return typeof w=="function"&&(T=w,w=0),L(d,S,w,T);function L(O,q,$,P,_){return a(O,q,$,function(k){k&&(k.code==="EMFILE"||k.code==="ENFILE")?oe([L,[O,q,$,P],k,_||Date.now(),Date.now()]):typeof P=="function"&&P.apply(this,arguments)})}}var x=e.readdir;e.readdir=u;var s=/^v[0-5]\./;function u(d,S,w){typeof S=="function"&&(w=S,S=null);var T=s.test(process.version)?function(q,$,P,_){return x(q,L(q,$,P,_))}:function(q,$,P,_){return x(q,$,L(q,$,P,_))};return T(d,S,w);function L(O,q,$,P){return function(_,k){_&&(_.code==="EMFILE"||_.code==="ENFILE")?oe([T,[O,q,$],_,P||Date.now(),Date.now()]):(k&&k.sort&&k.sort(),typeof $=="function"&&$.call(this,_,k))}}}if(process.version.substr(0,4)==="v0.8"){var f=ti(e);E=f.ReadStream,M=f.WriteStream}var l=e.ReadStream;l&&(E.prototype=Object.create(l.prototype),E.prototype.open=J);var y=e.WriteStream;y&&(M.prototype=Object.create(y.prototype),M.prototype.open=le),Object.defineProperty(e,"ReadStream",{get:function(){return E},set:function(d){E=d},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return M},set:function(d){M=d},enumerable:!0,configurable:!0});var g=E;Object.defineProperty(e,"FileReadStream",{get:function(){return g},set:function(d){g=d},enumerable:!0,configurable:!0});var v=M;Object.defineProperty(e,"FileWriteStream",{get:function(){return v},set:function(d){v=d},enumerable:!0,configurable:!0});function E(d,S){return this instanceof E?(l.apply(this,arguments),this):E.apply(Object.create(E.prototype),arguments)}function J(){var d=this;De(d.path,d.flags,d.mode,function(S,w){S?(d.autoClose&&d.destroy(),d.emit("error",S)):(d.fd=w,d.emit("open",w),d.read())})}function M(d,S){return this instanceof M?(y.apply(this,arguments),this):M.apply(Object.create(M.prototype),arguments)}function le(){var d=this;De(d.path,d.flags,d.mode,function(S,w){S?(d.destroy(),d.emit("error",S)):(d.fd=w,d.emit("open",w))})}function at(d,S){return new e.ReadStream(d,S)}function ut(d,S){return new e.WriteStream(d,S)}var An=e.open;e.open=De;function De(d,S,w,T){return typeof w=="function"&&(T=w,w=null),L(d,S,w,T);function L(O,q,$,P,_){return An(O,q,$,function(k,uc){k&&(k.code==="EMFILE"||k.code==="ENFILE")?oe([L,[O,q,$,P],k,_||Date.now(),Date.now()]):typeof P=="function"&&P.apply(this,arguments)})}}return e}function oe(e){ne("ENQUEUE",e[0].name,e[1]),b[R].push(e),Le()}var xe;function vt(){for(var e=Date.now(),t=0;t<b[R].length;++t)b[R][t].length>2&&(b[R][t][3]=e,b[R][t][4]=e);Le()}function Le(){if(clearTimeout(xe),xe=void 0,b[R].length!==0){var e=b[R].shift(),t=e[0],r=e[1],n=e[2],i=e[3],o=e[4];if(i===void 0)ne("RETRY",t.name,r),t.apply(null,r);else if(Date.now()-i>=6e4){ne("TIMEOUT",t.name,r);var c=r.pop();typeof c=="function"&&c.call(null,n)}else{var a=Date.now()-o,h=Math.max(o-i,1),x=Math.min(h*1.2,100);a>=x?(ne("RETRY",t.name,r),t.apply(null,r.concat([i]))):b[R].push(e)}xe===void 0&&(xe=setTimeout(Le,0))}}});var A=p(z=>{"use strict";var gt=D().fromCallback,j=ce(),ii=["access","appendFile","chmod","chown","close","copyFile","cp","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","glob","lchmod","lchown","lutimes","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","statfs","symlink","truncate","unlink","utimes","writeFile"].filter(e=>typeof j[e]=="function");Object.assign(z,j);ii.forEach(e=>{z[e]=gt(j[e])});z.exists=function(e,t){return typeof t=="function"?j.exists(e,t):new Promise(r=>j.exists(e,r))};z.read=function(e,t,r,n,i,o){return typeof o=="function"?j.read(e,t,r,n,i,o):new Promise((c,a)=>{j.read(e,t,r,n,i,(h,x,s)=>{if(h)return a(h);c({bytesRead:x,buffer:s})})})};z.write=function(e,t,...r){return typeof r[r.length-1]=="function"?j.write(e,t,...r):new Promise((n,i)=>{j.write(e,t,...r,(o,c,a)=>{if(o)return i(o);n({bytesWritten:c,buffer:a})})})};z.readv=function(e,t,...r){return typeof r[r.length-1]=="function"?j.readv(e,t,...r):new Promise((n,i)=>{j.readv(e,t,...r,(o,c,a)=>{if(o)return i(o);n({bytesRead:c,buffers:a})})})};z.writev=function(e,t,...r){return typeof r[r.length-1]=="function"?j.writev(e,t,...r):new Promise((n,i)=>{j.writev(e,t,...r,(o,c,a)=>{if(o)return i(o);n({bytesWritten:c,buffers:a})})})};typeof j.realpath.native=="function"?z.realpath.native=gt(j.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")});var kt=p((wc,xt)=>{"use strict";var oi=require("path");xt.exports.checkPath=function(t){if(process.platform==="win32"&&/[<>:"|?*]/.test(t.replace(oi.parse(t).root,""))){let n=new Error(`Path contains invalid characters: ${t}`);throw n.code="EINVAL",n}}});var bt=p((Sc,Re)=>{"use strict";var Ft=A(),{checkPath:Et}=kt(),qt=e=>{let t={mode:511};return typeof e=="number"?e:{...t,...e}.mode};Re.exports.makeDir=async(e,t)=>(Et(e),Ft.mkdir(e,{mode:qt(t),recursive:!0}));Re.exports.makeDirSync=(e,t)=>(Et(e),Ft.mkdirSync(e,{mode:qt(t),recursive:!0}))});var G=p((vc,$t)=>{"use strict";var ci=D().fromPromise,{makeDir:si,makeDirSync:Ie}=bt(),Me=ci(si);$t.exports={mkdirs:Me,mkdirsSync:Ie,mkdirp:Me,mkdirpSync:Ie,ensureDir:Me,ensureDirSync:Ie}});var ee=p((Pc,Dt)=>{"use strict";var ai=D().fromPromise,Ot=A();function ui(e){return Ot.access(e).then(()=>!0).catch(()=>!1)}Dt.exports={pathExists:ai(ui),pathExistsSync:Ot.existsSync}});var je=p((gc,Nt)=>{"use strict";var se=A(),li=D().fromPromise;async function fi(e,t,r){let n=await se.open(e,"r+"),i=null;try{await se.futimes(n,t,r)}finally{try{await se.close(n)}catch(o){i=o}}if(i)throw i}function mi(e,t,r){let n=se.openSync(e,"r+");return se.futimesSync(n,t,r),se.closeSync(n)}Nt.exports={utimesMillis:li(fi),utimesMillisSync:mi}});var ie=p((xc,_t)=>{"use strict";var ae=A(),N=require("path"),Ct=D().fromPromise;function yi(e,t,r){let n=r.dereference?i=>ae.stat(i,{bigint:!0}):i=>ae.lstat(i,{bigint:!0});return Promise.all([n(e),n(t).catch(i=>{if(i.code==="ENOENT")return null;throw i})]).then(([i,o])=>({srcStat:i,destStat:o}))}function di(e,t,r){let n,i=r.dereference?c=>ae.statSync(c,{bigint:!0}):c=>ae.lstatSync(c,{bigint:!0}),o=i(e);try{n=i(t)}catch(c){if(c.code==="ENOENT")return{srcStat:o,destStat:null};throw c}return{srcStat:o,destStat:n}}async function hi(e,t,r,n){let{srcStat:i,destStat:o}=await yi(e,t,n);if(o){if(fe(i,o)){let c=N.basename(e),a=N.basename(t);if(r==="move"&&c!==a&&c.toLowerCase()===a.toLowerCase())return{srcStat:i,destStat:o,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(i.isDirectory()&&!o.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!i.isDirectory()&&o.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(i.isDirectory()&&Ae(e,t))throw new Error(Fe(e,t,r));return{srcStat:i,destStat:o}}function pi(e,t,r,n){let{srcStat:i,destStat:o}=di(e,t,n);if(o){if(fe(i,o)){let c=N.basename(e),a=N.basename(t);if(r==="move"&&c!==a&&c.toLowerCase()===a.toLowerCase())return{srcStat:i,destStat:o,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(i.isDirectory()&&!o.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!i.isDirectory()&&o.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(i.isDirectory()&&Ae(e,t))throw new Error(Fe(e,t,r));return{srcStat:i,destStat:o}}async function Tt(e,t,r,n){let i=N.resolve(N.dirname(e)),o=N.resolve(N.dirname(r));if(o===i||o===N.parse(o).root)return;let c;try{c=await ae.stat(o,{bigint:!0})}catch(a){if(a.code==="ENOENT")return;throw a}if(fe(t,c))throw new Error(Fe(e,r,n));return Tt(e,t,o,n)}function Lt(e,t,r,n){let i=N.resolve(N.dirname(e)),o=N.resolve(N.dirname(r));if(o===i||o===N.parse(o).root)return;let c;try{c=ae.statSync(o,{bigint:!0})}catch(a){if(a.code==="ENOENT")return;throw a}if(fe(t,c))throw new Error(Fe(e,r,n));return Lt(e,t,o,n)}function fe(e,t){return t.ino&&t.dev&&t.ino===e.ino&&t.dev===e.dev}function Ae(e,t){let r=N.resolve(e).split(N.sep).filter(i=>i),n=N.resolve(t).split(N.sep).filter(i=>i);return r.every((i,o)=>n[o]===i)}function Fe(e,t,r){return`Cannot ${r} '${e}' to a subdirectory of itself, '${t}'.`}_t.exports={checkPaths:Ct(hi),checkPathsSync:pi,checkParentPaths:Ct(Tt),checkParentPathsSync:Lt,isSrcSubdir:Ae,areIdentical:fe}});var At=p((kc,jt)=>{"use strict";var I=A(),me=require("path"),{mkdirs:wi}=G(),{pathExists:Si}=ee(),{utimesMillis:vi}=je(),ye=ie();async function Pi(e,t,r={}){typeof r=="function"&&(r={filter:r}),r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0001");let{srcStat:n,destStat:i}=await ye.checkPaths(e,t,"copy",r);if(await ye.checkParentPaths(e,n,t,"copy"),!await It(e,t,r))return;let c=me.dirname(t);await Si(c)||await wi(c),await Mt(i,e,t,r)}async function It(e,t,r){return r.filter?r.filter(e,t):!0}async function Mt(e,t,r,n){let o=await(n.dereference?I.stat:I.lstat)(t);if(o.isDirectory())return Fi(o,e,t,r,n);if(o.isFile()||o.isCharacterDevice()||o.isBlockDevice())return gi(o,e,t,r,n);if(o.isSymbolicLink())return Ei(e,t,r,n);throw o.isSocket()?new Error(`Cannot copy a socket file: ${t}`):o.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${t}`):new Error(`Unknown file: ${t}`)}async function gi(e,t,r,n,i){if(!t)return Rt(e,r,n,i);if(i.overwrite)return await I.unlink(n),Rt(e,r,n,i);if(i.errorOnExist)throw new Error(`'${n}' already exists`)}async function Rt(e,t,r,n){if(await I.copyFile(t,r),n.preserveTimestamps){xi(e.mode)&&await ki(r,e.mode);let i=await I.stat(t);await vi(r,i.atime,i.mtime)}return I.chmod(r,e.mode)}function xi(e){return(e&128)===0}function ki(e,t){return I.chmod(e,t|128)}async function Fi(e,t,r,n,i){t||await I.mkdir(n);let o=[];for await(let c of await I.opendir(r)){let a=me.join(r,c.name),h=me.join(n,c.name);o.push(It(a,h,i).then(x=>{if(x)return ye.checkPaths(a,h,"copy",i).then(({destStat:s})=>Mt(s,a,h,i))}))}await Promise.all(o),t||await I.chmod(n,e.mode)}async function Ei(e,t,r,n){let i=await I.readlink(t);if(n.dereference&&(i=me.resolve(process.cwd(),i)),!e)return I.symlink(i,r);let o=null;try{o=await I.readlink(r)}catch(c){if(c.code==="EINVAL"||c.code==="UNKNOWN")return I.symlink(i,r);throw c}if(n.dereference&&(o=me.resolve(process.cwd(),o)),ye.isSrcSubdir(i,o))throw new Error(`Cannot copy '${i}' to a subdirectory of itself, '${o}'.`);if(ye.isSrcSubdir(o,i))throw new Error(`Cannot overwrite '${o}' with '${i}'.`);return await I.unlink(r),I.symlink(i,r)}jt.exports=Pi});var Ht=p((Fc,Ut)=>{"use strict";var W=ce(),de=require("path"),qi=G().mkdirsSync,bi=je().utimesMillisSync,he=ie();function $i(e,t,r){typeof r=="function"&&(r={filter:r}),r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0002");let{srcStat:n,destStat:i}=he.checkPathsSync(e,t,"copy",r);if(he.checkParentPathsSync(e,n,t,"copy"),r.filter&&!r.filter(e,t))return;let o=de.dirname(t);return W.existsSync(o)||qi(o),Wt(i,e,t,r)}function Wt(e,t,r,n){let o=(n.dereference?W.statSync:W.lstatSync)(t);if(o.isDirectory())return _i(o,e,t,r,n);if(o.isFile()||o.isCharacterDevice()||o.isBlockDevice())return Oi(o,e,t,r,n);if(o.isSymbolicLink())return Mi(e,t,r,n);throw o.isSocket()?new Error(`Cannot copy a socket file: ${t}`):o.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${t}`):new Error(`Unknown file: ${t}`)}function Oi(e,t,r,n,i){return t?Di(e,r,n,i):Bt(e,r,n,i)}function Di(e,t,r,n){if(n.overwrite)return W.unlinkSync(r),Bt(e,t,r,n);if(n.errorOnExist)throw new Error(`'${r}' already exists`)}function Bt(e,t,r,n){return W.copyFileSync(t,r),n.preserveTimestamps&&Ni(e.mode,t,r),We(r,e.mode)}function Ni(e,t,r){return Ci(e)&&Ti(r,e),Li(t,r)}function Ci(e){return(e&128)===0}function Ti(e,t){return We(e,t|128)}function We(e,t){return W.chmodSync(e,t)}function Li(e,t){let r=W.statSync(e);return bi(t,r.atime,r.mtime)}function _i(e,t,r,n,i){return t?Jt(r,n,i):Ri(e.mode,r,n,i)}function Ri(e,t,r,n){return W.mkdirSync(r),Jt(t,r,n),We(r,e)}function Jt(e,t,r){let n=W.opendirSync(e);try{let i;for(;(i=n.readSync())!==null;)Ii(i.name,e,t,r)}finally{n.closeSync()}}function Ii(e,t,r,n){let i=de.join(t,e),o=de.join(r,e);if(n.filter&&!n.filter(i,o))return;let{destStat:c}=he.checkPathsSync(i,o,"copy",n);return Wt(c,i,o,n)}function Mi(e,t,r,n){let i=W.readlinkSync(t);if(n.dereference&&(i=de.resolve(process.cwd(),i)),e){let o;try{o=W.readlinkSync(r)}catch(c){if(c.code==="EINVAL"||c.code==="UNKNOWN")return W.symlinkSync(i,r);throw c}if(n.dereference&&(o=de.resolve(process.cwd(),o)),he.isSrcSubdir(i,o))throw new Error(`Cannot copy '${i}' to a subdirectory of itself, '${o}'.`);if(he.isSrcSubdir(o,i))throw new Error(`Cannot overwrite '${o}' with '${i}'.`);return ji(i,r)}else return W.symlinkSync(i,r)}function ji(e,t){return W.unlinkSync(t),W.symlinkSync(e,t)}Ut.exports=$i});var Ee=p((Ec,Yt)=>{"use strict";var Ai=D().fromPromise;Yt.exports={copy:Ai(At()),copySync:Ht()}});var pe=p((qc,Gt)=>{"use strict";var Kt=ce(),Wi=D().fromCallback;function Bi(e,t){Kt.rm(e,{recursive:!0,force:!0},t)}function Ji(e){Kt.rmSync(e,{recursive:!0,force:!0})}Gt.exports={remove:Wi(Bi),removeSync:Ji}});var rr=p((bc,tr)=>{"use strict";var Ui=D().fromPromise,zt=A(),Xt=require("path"),Zt=G(),er=pe(),Qt=Ui(async function(t){let r;try{r=await zt.readdir(t)}catch{return Zt.mkdirs(t)}return Promise.all(r.map(n=>er.remove(Xt.join(t,n))))});function Vt(e){let t;try{t=zt.readdirSync(e)}catch{return Zt.mkdirsSync(e)}t.forEach(r=>{r=Xt.join(e,r),er.removeSync(r)})}tr.exports={emptyDirSync:Vt,emptydirSync:Vt,emptyDir:Qt,emptydir:Qt}});var cr=p(($c,or)=>{"use strict";var Hi=D().fromPromise,nr=require("path"),X=A(),ir=G();async function Yi(e){let t;try{t=await X.stat(e)}catch{}if(t&&t.isFile())return;let r=nr.dirname(e),n=null;try{n=await X.stat(r)}catch(i){if(i.code==="ENOENT"){await ir.mkdirs(r),await X.writeFile(e,"");return}else throw i}n.isDirectory()?await X.writeFile(e,""):await X.readdir(r)}function Ki(e){let t;try{t=X.statSync(e)}catch{}if(t&&t.isFile())return;let r=nr.dirname(e);try{X.statSync(r).isDirectory()||X.readdirSync(r)}catch(n){if(n&&n.code==="ENOENT")ir.mkdirsSync(r);else throw n}X.writeFileSync(e,"")}or.exports={createFile:Hi(Yi),createFileSync:Ki}});var fr=p((Oc,lr)=>{"use strict";var Gi=D().fromPromise,sr=require("path"),te=A(),ar=G(),{pathExists:Qi}=ee(),{areIdentical:ur}=ie();async function Vi(e,t){let r;try{r=await te.lstat(t)}catch{}let n;try{n=await te.lstat(e)}catch(c){throw c.message=c.message.replace("lstat","ensureLink"),c}if(r&&ur(n,r))return;let i=sr.dirname(t);await Qi(i)||await ar.mkdirs(i),await te.link(e,t)}function zi(e,t){let r;try{r=te.lstatSync(t)}catch{}try{let o=te.lstatSync(e);if(r&&ur(o,r))return}catch(o){throw o.message=o.message.replace("lstat","ensureLink"),o}let n=sr.dirname(t);return te.existsSync(n)||ar.mkdirsSync(n),te.linkSync(e,t)}lr.exports={createLink:Gi(Vi),createLinkSync:zi}});var yr=p((Dc,mr)=>{"use strict";var re=require("path"),we=A(),{pathExists:Xi}=ee(),Zi=D().fromPromise;async function eo(e,t){if(re.isAbsolute(e)){try{await we.lstat(e)}catch(o){throw o.message=o.message.replace("lstat","ensureSymlink"),o}return{toCwd:e,toDst:e}}let r=re.dirname(t),n=re.join(r,e);if(await Xi(n))return{toCwd:n,toDst:e};try{await we.lstat(e)}catch(o){throw o.message=o.message.replace("lstat","ensureSymlink"),o}return{toCwd:e,toDst:re.relative(r,e)}}function to(e,t){if(re.isAbsolute(e)){if(!we.existsSync(e))throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}let r=re.dirname(t),n=re.join(r,e);if(we.existsSync(n))return{toCwd:n,toDst:e};if(!we.existsSync(e))throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:re.relative(r,e)}}mr.exports={symlinkPaths:Zi(eo),symlinkPathsSync:to}});var pr=p((Nc,hr)=>{"use strict";var dr=A(),ro=D().fromPromise;async function no(e,t){if(t)return t;let r;try{r=await dr.lstat(e)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}function io(e,t){if(t)return t;let r;try{r=dr.lstatSync(e)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}hr.exports={symlinkType:ro(no),symlinkTypeSync:io}});var Pr=p((Cc,vr)=>{"use strict";var oo=D().fromPromise,wr=require("path"),Q=A(),{mkdirs:co,mkdirsSync:so}=G(),{symlinkPaths:ao,symlinkPathsSync:uo}=yr(),{symlinkType:lo,symlinkTypeSync:fo}=pr(),{pathExists:mo}=ee(),{areIdentical:Sr}=ie();async function yo(e,t,r){let n;try{n=await Q.lstat(t)}catch{}if(n&&n.isSymbolicLink()){let[a,h]=await Promise.all([Q.stat(e),Q.stat(t)]);if(Sr(a,h))return}let i=await ao(e,t);e=i.toDst;let o=await lo(i.toCwd,r),c=wr.dirname(t);return await mo(c)||await co(c),Q.symlink(e,t,o)}function ho(e,t,r){let n;try{n=Q.lstatSync(t)}catch{}if(n&&n.isSymbolicLink()){let a=Q.statSync(e),h=Q.statSync(t);if(Sr(a,h))return}let i=uo(e,t);e=i.toDst,r=fo(i.toCwd,r);let o=wr.dirname(t);return Q.existsSync(o)||so(o),Q.symlinkSync(e,t,r)}vr.exports={createSymlink:oo(yo),createSymlinkSync:ho}});var $r=p((Tc,br)=>{"use strict";var{createFile:gr,createFileSync:xr}=cr(),{createLink:kr,createLinkSync:Fr}=fr(),{createSymlink:Er,createSymlinkSync:qr}=Pr();br.exports={createFile:gr,createFileSync:xr,ensureFile:gr,ensureFileSync:xr,createLink:kr,createLinkSync:Fr,ensureLink:kr,ensureLinkSync:Fr,createSymlink:Er,createSymlinkSync:qr,ensureSymlink:Er,ensureSymlinkSync:qr}});var qe=p((Lc,Or)=>{function po(e,{EOL:t=`
`,finalEOL:r=!0,replacer:n=null,spaces:i}={}){let o=r?t:"";return JSON.stringify(e,n,i).replace(/\n/g,t)+o}function wo(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}Or.exports={stringify:po,stripBom:wo}});var Tr=p((_c,Cr)=>{var ue;try{ue=ce()}catch{ue=require("fs")}var be=D(),{stringify:Dr,stripBom:Nr}=qe();async function So(e,t={}){typeof t=="string"&&(t={encoding:t});let r=t.fs||ue,n="throws"in t?t.throws:!0,i=await be.fromCallback(r.readFile)(e,t);i=Nr(i);let o;try{o=JSON.parse(i,t?t.reviver:null)}catch(c){if(n)throw c.message=`${e}: ${c.message}`,c;return null}return o}var vo=be.fromPromise(So);function Po(e,t={}){typeof t=="string"&&(t={encoding:t});let r=t.fs||ue,n="throws"in t?t.throws:!0;try{let i=r.readFileSync(e,t);return i=Nr(i),JSON.parse(i,t.reviver)}catch(i){if(n)throw i.message=`${e}: ${i.message}`,i;return null}}async function go(e,t,r={}){let n=r.fs||ue,i=Dr(t,r);await be.fromCallback(n.writeFile)(e,i,r)}var xo=be.fromPromise(go);function ko(e,t,r={}){let n=r.fs||ue,i=Dr(t,r);return n.writeFileSync(e,i,r)}var Fo={readFile:vo,readFileSync:Po,writeFile:xo,writeFileSync:ko};Cr.exports=Fo});var _r=p((Rc,Lr)=>{"use strict";var $e=Tr();Lr.exports={readJson:$e.readFile,readJsonSync:$e.readFileSync,writeJson:$e.writeFile,writeJsonSync:$e.writeFileSync}});var Oe=p((Ic,Mr)=>{"use strict";var Eo=D().fromPromise,Be=A(),Rr=require("path"),Ir=G(),qo=ee().pathExists;async function bo(e,t,r="utf-8"){let n=Rr.dirname(e);return await qo(n)||await Ir.mkdirs(n),Be.writeFile(e,t,r)}function $o(e,...t){let r=Rr.dirname(e);Be.existsSync(r)||Ir.mkdirsSync(r),Be.writeFileSync(e,...t)}Mr.exports={outputFile:Eo(bo),outputFileSync:$o}});var Ar=p((Mc,jr)=>{"use strict";var{stringify:Oo}=qe(),{outputFile:Do}=Oe();async function No(e,t,r={}){let n=Oo(t,r);await Do(e,n,r)}jr.exports=No});var Br=p((jc,Wr)=>{"use strict";var{stringify:Co}=qe(),{outputFileSync:To}=Oe();function Lo(e,t,r){let n=Co(t,r);To(e,n,r)}Wr.exports=Lo});var Ur=p((Ac,Jr)=>{"use strict";var _o=D().fromPromise,B=_r();B.outputJson=_o(Ar());B.outputJsonSync=Br();B.outputJSON=B.outputJson;B.outputJSONSync=B.outputJsonSync;B.writeJSON=B.writeJson;B.writeJSONSync=B.writeJsonSync;B.readJSON=B.readJson;B.readJSONSync=B.readJsonSync;Jr.exports=B});var Qr=p((Wc,Gr)=>{"use strict";var Ro=A(),Hr=require("path"),{copy:Io}=Ee(),{remove:Kr}=pe(),{mkdirp:Mo}=G(),{pathExists:jo}=ee(),Yr=ie();async function Ao(e,t,r={}){let n=r.overwrite||r.clobber||!1,{srcStat:i,isChangingCase:o=!1}=await Yr.checkPaths(e,t,"move",r);await Yr.checkParentPaths(e,i,t,"move");let c=Hr.dirname(t);return Hr.parse(c).root!==c&&await Mo(c),Wo(e,t,n,o)}async function Wo(e,t,r,n){if(!n){if(r)await Kr(t);else if(await jo(t))throw new Error("dest already exists.")}try{await Ro.rename(e,t)}catch(i){if(i.code!=="EXDEV")throw i;await Bo(e,t,r)}}async function Bo(e,t,r){return await Io(e,t,{overwrite:r,errorOnExist:!0,preserveTimestamps:!0}),Kr(e)}Gr.exports=Ao});var en=p((Bc,Zr)=>{"use strict";var zr=ce(),Ue=require("path"),Jo=Ee().copySync,Xr=pe().removeSync,Uo=G().mkdirpSync,Vr=ie();function Ho(e,t,r){r=r||{};let n=r.overwrite||r.clobber||!1,{srcStat:i,isChangingCase:o=!1}=Vr.checkPathsSync(e,t,"move",r);return Vr.checkParentPathsSync(e,i,t,"move"),Yo(t)||Uo(Ue.dirname(t)),Ko(e,t,n,o)}function Yo(e){let t=Ue.dirname(e);return Ue.parse(t).root===t}function Ko(e,t,r,n){if(n)return Je(e,t,r);if(r)return Xr(t),Je(e,t,r);if(zr.existsSync(t))throw new Error("dest already exists.");return Je(e,t,r)}function Je(e,t,r){try{zr.renameSync(e,t)}catch(n){if(n.code!=="EXDEV")throw n;return Go(e,t,r)}}function Go(e,t,r){return Jo(e,t,{overwrite:r,errorOnExist:!0,preserveTimestamps:!0}),Xr(e)}Zr.exports=Ho});var rn=p((Jc,tn)=>{"use strict";var Qo=D().fromPromise;tn.exports={move:Qo(Qr()),moveSync:en()}});var on=p((Uc,nn)=>{"use strict";nn.exports={...A(),...Ee(),...rr(),...$r(),...Ur(),...G(),...rn(),...Oe(),...ee(),...pe()}});var cn,V,C,Hc,He,Ye,Yc,sn=U(()=>{"use strict";cn=Yn(on(),1),V=require("node:fs"),C=require("node:fs/promises"),{removeSync:Hc,mkdirp:He,remove:Ye,copy:Yc}=cn.default});function ln(e){return new Promise(t=>{setTimeout(()=>{t(!0)},e)})}function Ke(e=32){let t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890",r="";for(let n=0;n<e;n++)r+=t.charAt(Math.floor(Math.random()*t.length));return r}async function fn(e){let r=(await m(`ls -al "${e}"`))?.stdout?.trim()?.split(`
`)?.[1]?.split(" ")?.filter(n=>!!n.trim())??[];return`${r[2]}:${r[3]}`}var an,un,m,H=U(()=>{"use strict";sn();an=require("child_process"),un=require("util"),m=(0,un.promisify)(an.exec)});var F,K=U(()=>{"use strict";H();F=class{exec(t,...r){let n=this?.[t];return n?n.call(this,...r):new Promise((i,o)=>{o(new Error("No Found Function"))})}startService(t,r={}){return new Promise(async(n,i)=>{try{await m(t,r)}catch(o){i(o);return}n(!0)})}}});var mn={};Y(mn,{default:()=>Vo});var Ge,Qe,Ve,Vo,yn=U(()=>{"use strict";Ge=require("node:path");H();Qe=require("node:fs");K();Ve=class extends F{writeFileByRoot(t,r){return new Promise(async(n,i)=>{let o=!1,c;try{await(0,C.writeFile)(t,r)}catch(a){o=!0,c=a}if(o){let a=(0,Ge.join)("/tmp",`${Ke()}.txt`);await(0,C.writeFile)(a,r);try{await m(`cp -f "${a}" "${t}"`),o=!1}catch(h){c=h}try{await m(`rm -rf "${a}"`)}catch{}}if(o){i(c);return}n(!0)})}readFileByRoot(t){return new Promise(async(r,n)=>{let i="",o,c=!1;try{i=await(0,C.readFile)(t,"utf-8")}catch(a){o=a,c=!0}if(c){let a=(0,Ge.join)(global.Server.Cache,`${Ke()}.txt`);try{await m(`cp -f "${t}" "${a}"`),i=await(0,C.readFile)(a,"utf-8"),await m(`rm -rf "${a}"`),c=!1}catch(h){o=h,c=!0}}if(c)return n(o);r(i)})}processList(){return new Promise(async t=>{let r="";try{r=(await m("ps axo user,pid,ppid,command")).stdout}catch{}return t(r?r.trim().split(`
`).filter(n=>!!n.trim()).map(n=>{let i=n.split(" ").filter(x=>!!x.trim()),o=i.shift(),c=i.shift(),a=i.shift(),h=i.join(" ");return{USER:o,PID:c,PPID:a,COMMAND:h}}):[])})}rm(t){return new Promise(async r=>{try{await m(`rm -rf "${t}"`)}catch{}r(!0)})}chmod(t,r){return new Promise(async n=>{if((0,Qe.existsSync)(t))try{await m(`chmod ${r} "${t}"`)}catch{}n(!0)})}kill(t,r){return new Promise(async n=>{try{await m(`kill ${t} ${r.join(" ")}`)}catch{}n(!0)})}ln_s(t,r){return new Promise(async n=>{if((0,Qe.existsSync)(t))try{await m(`ln -s "${t}" "${r}"`)}catch{}n(!0)})}killPorts(t){return new Promise(async r=>{let n=new Set;for(let i of t){let o=await m(`lsof -nP -i:${i} | grep '(LISTEN)' | awk '{print $1,$2,$3,$9,$10}'`);o=o?.stdout??"",o.split(`
`).filter(a=>a.includes(`:${i} (LISTEN)`)).map(a=>{let h=a.split(" ").filter(x=>x.trim().length>0);return h.shift(),h.shift()}).forEach(a=>n.add(a))}if(n.size>0)try{await m(["kill","-9",...Array.from(n)].join(" "))}catch{}r(!0)})}getPortPids(t){return new Promise(async r=>{let i=(await m(`lsof -nP -i:${t} | awk '{print $1,$2,$3}'`)).stdout.toString().trim().split(`
`).filter((o,c)=>c>0).map(o=>{let c=o.split(" ").filter(s=>s.trim().length>0),a=c.pop(),h=c.pop(),x=c.join(" ");return{USER:a,PID:h,COMMAND:x}});r(i)})}},Vo=new Ve});var dn={};Y(dn,{default:()=>zo});var ze,zo,hn=U(()=>{"use strict";K();H();ze=class extends F{macportsDirFixed(t,r){return new Promise(async n=>{try{await m(`mkdir -p ${t}`),await m(`cp -R ${r} ${t}`)}catch{}n(!0)})}},zo=new ze});var wn={};Y(wn,{default:()=>Xo});var pn,Xe,Xo,Sn=U(()=>{"use strict";pn=require("node:fs");K();H();Xe=class extends F{sslDirFixed(t){return new Promise(async r=>{if((0,pn.existsSync)(t))try{(await m(["ls","-al",t].join(" "))).stdout.includes(" root ")&&await m(["rm","-rf",t].join(" "))}catch{}r(!0)})}},Xo=new Xe});var Pn={};Y(Pn,{default:()=>Zo});var vn,Ze,Zo,gn=U(()=>{"use strict";vn=require("node:fs");K();H();Ze=class extends F{logFileFixed(t,r){return new Promise(async n=>{(0,vn.existsSync)(t)&&await m(`chown ${r} ${t}`),n(!0)})}},Zo=new Ze});var kn={};Y(kn,{default:()=>ec});var xn,et,ec,Fn=U(()=>{"use strict";K();xn=require("node:path");H();et=class extends F{iniFileFixed(t,r){return new Promise(async n=>{await He((0,xn.dirname)(t)),await m(`cp -f "${r}" "${t}"`),await m(`chmod 755 "${t}"`),n(!0)})}iniDefaultFileFixed(t,r){return new Promise(async n=>{await m(`cp -f "${r}" "${t}"`),n(!0)})}},ec=new et});var qn={};Y(qn,{default:()=>tc});var En,tt,tc,bn=U(()=>{"use strict";En=require("node:fs");K();H();tt=class extends F{binFixed(t){return new Promise(async r=>{if((0,En.existsSync)(t))try{await m(`xattr -dr "com.apple.quarantine" "${t}"`)}catch{}r(!0)})}},tc=new tt});var $n={};Y($n,{default:()=>rc});var rt,rc,On=U(()=>{"use strict";K();H();rt=class extends F{macportsDirFixed(t,r,n,i){return new Promise(async o=>{try{await m(`mkdir -p "${t}"`),await m(`cp -R "${r}/*" "${t}"`),await m(`mkdir -p "${n}"`),await m(`cp -R "${i}" "${n}"`)}catch{}o(!0)})}},rc=new rt});var Dn={};Y(Dn,{default:()=>nc});var nt,nc,Nn=U(()=>{"use strict";K();nt=class extends F{},nc=new nt});var Cn={};Y(Cn,{default:()=>ic});var it,ic,Tn=U(()=>{"use strict";K();H();it=class extends F{initPlugin(t){return new Promise(async(r,n)=>{try{await m("./rabbitmq-plugins enable rabbitmq_management",{cwd:t})}catch(i){n(i);return}r(!0)})}},ic=new it});var Ln={};Y(Ln,{default:()=>oc});var ot,oc,_n=U(()=>{"use strict";K();H();ot=class extends F{sslAddTrustedCert(t){return new Promise(async(r,n)=>{try{await m('security add-trusted-cert -d -r trustRoot -k "/Library/Keychains/System.keychain" "PhpWebStudy-Root-CA.crt"',{cwd:t})}catch(i){n(i);return}r(!0)})}sslFindCertificate(t){return new Promise(async(r,n)=>{try{let i=await m('security find-certificate -c "PhpWebStudy-Root-CA"',{cwd:t});r({stdout:i.stdout,stderr:i.stderr})}catch(i){n(i)}})}dnsRefresh(){return new Promise(async t=>{try{await m("dscacheutil -flushcache")}catch{}try{await m("killall -HUP mDNSResponder")}catch{}t(!0)})}},oc=new ot});var Rn={};Y(Rn,{default:()=>cc});var ct,cc,In=U(()=>{"use strict";K();ct=class extends F{},cc=new ct});var ac={};Y(ac,{default:()=>sc});module.exports=Kn(ac);var Mn=require("node:net");H();H();var Se="/tmp/flyenv-helper.sock",st=class{Tool;MariaDB;Caddy;Redis;PHP;Mailpit;Mysql;Apache;RabbitMQ;Host;Nginx;async init(){(0,V.existsSync)(Se)&&await Ye(Se);let t=(0,Mn.createServer)(r=>{let n=[];r.on("data",async i=>{n.push(i);let o;try{let c=Buffer.concat(n).toString().trim();o=JSON.parse(c)}catch{}if(o){n.splice(0);let c=o.key,a=o.module,h=o.function,x=o?.args??[],s=u=>{u.exec(h,...x)?.then(f=>{let l={key:c,code:0,data:f};r.write(JSON.stringify(l),y=>{})})?.catch(f=>{let l={key:c,code:1,msg:`${f}`};r.write(JSON.stringify(l))})};if(a==="tools"){if(!this.Tool){let u=await Promise.resolve().then(()=>(yn(),mn));this.Tool=u.default}s(this.Tool)}else if(a==="mariadb"){if(!this.MariaDB){let u=await Promise.resolve().then(()=>(hn(),dn));this.MariaDB=u.default}s(this.MariaDB)}else if(a==="caddy"){if(!this.Caddy){let u=await Promise.resolve().then(()=>(Sn(),wn));this.Caddy=u.default}s(this.Caddy)}else if(a==="redis"){if(!this.Redis){let u=await Promise.resolve().then(()=>(gn(),Pn));this.Redis=u.default}s(this.Redis)}else if(a==="php"){if(!this.PHP){let u=await Promise.resolve().then(()=>(Fn(),kn));this.PHP=u.default}s(this.PHP)}else if(a==="mailpit"){if(!this.Mailpit){let u=await Promise.resolve().then(()=>(bn(),qn));this.Mailpit=u.default}s(this.Mailpit)}else if(a==="mysql"){if(!this.Mysql){let u=await Promise.resolve().then(()=>(On(),$n));this.Mysql=u.default}s(this.Mysql)}else if(a==="apache"){if(!this.Apache){let u=await Promise.resolve().then(()=>(Nn(),Dn));this.Apache=u.default}s(this.Apache)}else if(a==="rabbitmq"){if(!this.RabbitMQ){let u=await Promise.resolve().then(()=>(Tn(),Cn));this.RabbitMQ=u.default}s(this.RabbitMQ)}else if(a==="host"){if(!this.Host){let u=await Promise.resolve().then(()=>(_n(),Ln));this.Host=u.default}s(this.Host)}else if(a==="nginx"){if(!this.Nginx){let u=await Promise.resolve().then(()=>(In(),Rn));this.Nginx=u.default}s(this.Nginx)}}}),r.on("end",()=>{try{r.destroySoon()}catch{}})});t.listen(Se,async()=>{await ln(500);let r="/Applications/FlyEnv.app";if((0,V.existsSync)(r)||(r="/Applications/PhpWebStudy.app"),!(0,V.existsSync)(r))return;let n="";try{n=await fn(r)}catch{}n&&(0,V.existsSync)(Se)&&await m(`chown ${n} "${Se}"`)}),t.on("error",r=>{})}},jn=new st;jn.init().then().catch();var sc=jn;
// version 3
